/*!
 * Ext JS Library 3.4.0
 * Copyright(c) 2006-2011 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
Ext.ns("Ext.ux.grid"),Ext.ux.grid.ColumnHeaderGroup=Ext.extend(Ext.util.Observable,{constructor:function(n){this.config=n},init:function(n){Ext.applyIf(n.colModel,this.config),Ext.apply(n.getView(),this.viewConfig)},viewConfig:{initTemplates:function(){this.constructor.prototype.initTemplates.apply(this,arguments);var n=this.templates||{};n.gcell||(n.gcell=new Ext.XTemplate('<td class="x-grid3-hd x-grid3-gcell x-grid3-td-{id} ux-grid-hd-group-row-{row} {cls}" style="{style}">','<div {tooltip} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"><\/a>':"","{value}<\/div><\/td>")),this.templates=n,this.hrowRe=new RegExp("ux-grid-hd-group-row-(\\d+)","")},renderHeaders:function(){for(var s=this.templates,r=[],h=this.cm,c=h.rows,v="width:"+this.getTotalWidth()+";",u,f,n,a,o,t=0,l=c.length;t<l;t++){u=c[t],f=[];for(var i=0,e=0,y=u.length;i<y;i++)n=u[i],n.colspan=n.colspan||1,a=this.getColumnId(n.dataIndex?h.findColumnIndex(n.dataIndex):e),o=Ext.ux.grid.ColumnHeaderGroup.prototype.getGroupStyle.call(this,n,e),f[i]=s.gcell.apply({cls:"ux-grid-hd-group-cell",id:a,row:t,style:"width:"+o.width+";"+(o.hidden?"display:none;":"")+(n.align?"text-align:"+n.align+";":""),tooltip:n.tooltip?(Ext.QuickTips.isEnabled()?"ext:qtip":"title")+'="'+n.tooltip+'"':"",istyle:n.align=="right"?"padding-right:16px":"",btn:this.grid.enableHdMenu&&n.header,value:n.header||"&nbsp;"}),e+=n.colspan;r[t]=s.header.apply({tstyle:v,cells:f.join("")})}return r.push(this.constructor.prototype.renderHeaders.apply(this,arguments)),r.join("")},onColumnWidthUpdated:function(){this.constructor.prototype.onColumnWidthUpdated.apply(this,arguments),Ext.ux.grid.ColumnHeaderGroup.prototype.updateGroupStyles.call(this)},onAllColumnWidthsUpdated:function(){this.constructor.prototype.onAllColumnWidthsUpdated.apply(this,arguments),Ext.ux.grid.ColumnHeaderGroup.prototype.updateGroupStyles.call(this)},onColumnHiddenUpdated:function(){this.constructor.prototype.onColumnHiddenUpdated.apply(this,arguments),Ext.ux.grid.ColumnHeaderGroup.prototype.updateGroupStyles.call(this)},getHeaderCell:function(n){return this.mainHd.query(this.cellSelector)[n]},findHeaderCell:function(n){return n?this.fly(n).findParent("td.x-grid3-hd",this.cellSelectorDepth):!1},findHeaderIndex:function(n){var t=this.findHeaderCell(n);return t?this.getCellIndex(t):!1},updateSortIcon:function(n,t){var i=this.sortClasses,r=this.mainHd.select(this.cellSelector).removeClass(i);r.item(n).addClass(i[t=="DESC"?1:0])},handleHdDown:function(n,t){var e=Ext.get(t),i,r,u,f;if(e.hasClass("x-grid3-hd-btn")){n.stopEvent(),i=this.findHeaderCell(t),Ext.fly(i).addClass("x-grid3-hd-menu-open"),r=this.getCellIndex(i),this.hdCtxIndex=r,u=this.hmenu.items,f=this.cm,u.get("asc").setDisabled(!f.isSortable(r)),u.get("desc").setDisabled(!f.isSortable(r));this.hmenu.on("hide",function(){Ext.fly(i).removeClass("x-grid3-hd-menu-open")},this,{single:!0});this.hmenu.show(t,"tl-bl?")}else(e.hasClass("ux-grid-hd-group-cell")||Ext.fly(t).up(".ux-grid-hd-group-cell"))&&n.stopEvent()},handleHdMove:function(n){var t=this.findHeaderCell(this.activeHdRef);if(t&&!this.headersDisabled&&!Ext.fly(t).hasClass("ux-grid-hd-group-cell")){var r=this.splitHandleWidth||5,u=this.activeHdRegion,f=n.getPageX(),e=t.style,i="";this.grid.enableColumnResize!==!1&&(f-u.left<=r&&this.cm.isResizable(this.activeHdIndex-1)?i=Ext.isAir?"move":Ext.isWebKit?"e-resize":"col-resize":u.right-f<=(this.activeHdBtn?2:r)&&this.cm.isResizable(this.activeHdIndex)&&(i=Ext.isAir?"move":Ext.isWebKit?"w-resize":"col-resize")),e.cursor=i}},handleHdOver:function(n,t){var r=this.findHeaderCell(t),i;r&&!this.headersDisabled&&(this.activeHdRef=t,this.activeHdIndex=this.getCellIndex(r),i=this.fly(r),this.activeHdRegion=i.getRegion(),this.cm.isMenuDisabled(this.activeHdIndex)||i.hasClass("ux-grid-hd-group-cell")||(i.addClass("x-grid3-hd-over"),this.activeHdBtn=i.child(".x-grid3-hd-btn"),this.activeHdBtn&&(this.activeHdBtn.dom.style.height=r.firstChild.offsetHeight-1+"px")))},handleHdOut:function(n,t){var i=this.findHeaderCell(t);!i||Ext.isIE&&n.within(i,!0)||(this.activeHdRef=null,this.fly(i).removeClass("x-grid3-hd-over"),i.style.cursor="")},handleHdMenuClick:function(n){var o=this.hdCtxIndex,i=this.cm,a=this.ds,u=n.getItemId(),h,t,r,c,e,l,p;switch(u){case"asc":a.sort(i.getDataIndex(o),"ASC");break;case"desc":a.sort(i.getDataIndex(o),"DESC");break;default:if(u.substr(0,6)=="group-"){var t=u.split("-"),w=parseInt(t[1],10),v=parseInt(t[2],10),y=this.cm.rows[w],s,f=0;for(t=0,r=y.length;t<r;t++){if(s=y[t],v>=f&&v<f+s.colspan)break;f+=s.colspan}if(n.checked){for(h=i.getColumnsBy(this.isHideableColumn,this).length,t=f,r=f+s.colspan;t<r;t++)i.isHidden(t)||h--;if(h<1)return this.onDenyColumnHide(),!1}for(t=f,r=f+s.colspan;t<r;t++)i.config[t].fixed!==!0&&i.config[t].hideable!==!1&&i.setHidden(t,n.checked)}else if(u.substr(0,4)=="col-"&&(o=i.getIndexById(u.substr(4)),o!=-1)){if(n.checked&&i.getColumnsBy(this.isHideableColumn,this).length<=1)return this.onDenyColumnHide(),!1;i.setHidden(o,n.checked)}if(u.substr(0,6)=="group-"||u.substr(0,4)=="col-"){for(n.checked=!n.checked,n.menu&&(c=function(t){t.items.each(function(t){t.disabled||(t.setChecked(n.checked,!1),t.menu&&c(t.menu))})},c(n.menu)),e=n;e=e.parentMenu;){if(!e.parentMenu||!(l=e.parentMenu.items.get(e.getItemId()))||!l.setChecked)break;p=e.items.findIndexBy(function(n){return n.checked})>=0,l.setChecked(p,!0)}n.checked=!n.checked}}return!0},beforeColMenuShow:function(){var t=this.cm,y=this.cm.rows,n,p,f,w,c,i,r,s,b,a,v,o,d;for(this.colMenu.removeAll(),n=0,p=t.getColumnCount();n<p;n++){var u=this.colMenu,g=t.getColumnHeader(n),h=[];if(t.config[n].fixed!==!0&&t.config[n].hideable!==!1){for(f=0,w=y.length;f<w;f++){for(c=y[f],r=0,s=0,b=c.length;s<b;s++){if(i=c[s],n>=r&&n<r+i.colspan)break;r+=i.colspan}if(i&&i.header)if(t.hierarchicalColMenu){var l="group-"+f+"-"+r,k=u.items?u.getComponent(l):null,e=k?k.menu:null;if(!e){e=new Ext.menu.Menu({itemId:l});e.on("itemclick",this.handleHdMenuClick,this);for(a=!1,v=!0,o=r,d=r+i.colspan;o<d;o++)t.isHidden(o)||(a=!0),t.config[o].hideable!==!1&&(v=!1);u.add({itemId:l,text:i.header,menu:e,hideOnClick:!1,checked:a,disabled:v})}u=e}else h.push(i.header)}h.push(g),u.add(new Ext.menu.CheckItem({itemId:"col-"+t.getColumnId(n),text:h.join(" "),checked:!t.isHidden(n),hideOnClick:!1,disabled:t.config[n].hideable===!1}))}}},afterRenderUI:function(){this.constructor.prototype.afterRenderUI.apply(this,arguments),Ext.apply(this.columnDrop,Ext.ux.grid.ColumnHeaderGroup.prototype.columnDropConfig),Ext.apply(this.splitZone,Ext.ux.grid.ColumnHeaderGroup.prototype.splitZoneConfig)}},splitZoneConfig:{allowHeaderDrag:function(n){return!n.getTarget(null,null,!0).hasClass("ux-grid-hd-group-cell")}},columnDropConfig:{getTargetFromEvent:function(n){var t=Ext.lib.Event.getTarget(n);return this.view.findHeaderCell(t)},positionIndicator:function(n,t,i){var r=Ext.ux.grid.ColumnHeaderGroup.prototype.getDragDropData.call(this,n,t,i),u;return r===!1?!1:(u=r.px+this.proxyOffsets[0],this.proxyTop.setLeftTop(u,r.r.top+this.proxyOffsets[1]),this.proxyTop.show(),this.proxyBottom.setLeftTop(u,r.r.bottom),this.proxyBottom.show(),r.pt)},onNodeDrop:function(n,t,i,r){var b=r.header,u,o,d,e,f,h,tt,c,p,w;if(b!=n){if(u=Ext.ux.grid.ColumnHeaderGroup.prototype.getDragDropData.call(this,b,n,i),u===!1)return!1;var k=this.grid.colModel,l=u.oldIndex<u.newIndex,a=k.rows;for(o=u.row,d=a.length;o<d;o++){var s=a[o],g=s.length,v=0,y=1,nt=g;for(e=0,f=0;e<g;e++)h=s[e],u.oldIndex>=f&&u.oldIndex<f+h.colspan&&(v=e),u.oldIndex+u.colspan-1>=f&&u.oldIndex+u.colspan-1<f+h.colspan&&(y=e-v+1),u.newIndex>=f&&u.newIndex<f+h.colspan&&(nt=e),f+=h.colspan;tt=s.splice(v,y),a[o]=s.splice(0,nt-(l?y:0)).concat(tt).concat(s)}for(c=0;c<u.colspan;c++)p=u.oldIndex+(l?0:c),w=u.newIndex+(l?-1:c),k.moveColumn(p,w),this.grid.fireEvent("columnmove",p,w);return!0}return!1}},getGroupStyle:function(n,t){for(var r=0,f=!0,u,i=t,e=t+n.colspan;i<e;i++)this.cm.isHidden(i)||(u=this.cm.getColumnWidth(i),typeof u=="number"&&(r+=u),f=!1);return{width:(Ext.isBorderBox||Ext.isWebKit&&!Ext.isSafari2?r:Math.max(r-this.borderWidth,0))+"px",hidden:f}},updateGroupStyles:function(n){for(var e=this.mainHd.query(".x-grid3-header-offset > table"),h=this.getTotalWidth(),s=this.cm.rows,u,i,r,f,o,t=0;t<e.length;t++)if(e[t].style.width=h,t<s.length)for(u=e[t].firstChild.firstChild.childNodes,i=0,r=0;i<u.length;i++)f=s[t][i],(typeof n!="number"||n>=r&&n<r+f.colspan)&&(o=Ext.ux.grid.ColumnHeaderGroup.prototype.getGroupStyle.call(this,f,r),u[i].style.width=o.width,u[i].style.display=o.hidden?"none":""),r+=f.colspan},getGroupRowIndex:function(n){if(n){var t=n.className.match(this.hrowRe);if(t&&t[1])return parseInt(t[1],10)}return this.cm.rows.length},getGroupSpan:function(n,t){var r,u;if(n<0)return{col:0,colspan:this.cm.getColumnCount()};if(r=this.cm.rows[n],r){for(var f=0,i=0,e=r.length;f<e;f++){if(u=r[f],t>=i&&t<i+u.colspan)return{col:i,colspan:u.colspan};i+=u.colspan}return{col:i,colspan:0}}return{col:t,colspan:1}},getDragDropData:function(n,t,i){var f,r,h;if(n.parentNode!=t.parentNode)return!1;var a=this.grid.colModel,v=Ext.lib.Event.getPageX(i),u=Ext.lib.Dom.getRegion(t.firstChild),c,o;if(u.right-v<=(u.right-u.left)/2?(c=u.right+this.view.borderWidth,o="after"):(c=u.left,o="before"),f=this.view.getCellIndex(n),r=this.view.getCellIndex(t),a.isFixed(r))return!1;var s=Ext.ux.grid.ColumnHeaderGroup.prototype.getGroupRowIndex.call(this.view,n),e=Ext.ux.grid.ColumnHeaderGroup.prototype.getGroupSpan.call(this.view,s,f),l=Ext.ux.grid.ColumnHeaderGroup.prototype.getGroupSpan.call(this.view,s,r),f=e.col;return(r=l.col+(o=="after"?l.colspan:0),r>=e.col&&r<=e.col+e.colspan)?!1:(h=Ext.ux.grid.ColumnHeaderGroup.prototype.getGroupSpan.call(this.view,s-1,f),r<h.col||r>h.col+h.colspan)?!1:{r:u,px:c,pt:o,row:s,oldIndex:f,newIndex:r,colspan:e.colspan}}}),Ext.ux.MonthPickerPlugin=function(){function i(){return t=Date.defaults.d,Date.defaults.d=1,!0}function r(n){return Date.defaults.d=t,n}function u(){var t=n.menu.picker;t.activeDate=t.activeDate.getFirstDateOfMonth(),t.value&&(t.value=t.value.getFirstDateOfMonth()),t.showMonthPicker(),t.disabled||(t.monthPicker.stopFx(),t.monthPicker.show(),t.mun(t.monthPicker,"click",t.onMonthClick,t),t.mun(t.monthPicker,"dblclick",t.onMonthDblClick,t),t.onMonthClick=t.onMonthClick.createSequence(f),t.onMonthDblClick=t.onMonthDblClick.createSequence(e),t.mon(t.monthPicker,"click",t.onMonthClick,t),t.mon(t.monthPicker,"dblclick",t.onMonthDblClick,t))}function f(t,i){var u=new Ext.Element(i),r;u.is("button.x-date-mp-cancel")?n.menu.hide():u.is("button.x-date-mp-ok")&&(r=n.menu.picker,r.setValue(r.activeDate),r.fireEvent("select",r,r.value))}function e(t,i){var u=new Ext.Element(i),r;u.parent()&&(u.parent().is("td.x-date-mp-month")||u.parent().is("td.x-date-mp-year"))&&(r=n.menu.picker,r.setValue(r.activeDate),r.fireEvent("select",r,r.value))}var n,t;this.init=function(t){n=t,n.onTriggerClick=n.onTriggerClick.createSequence(u),n.getValue=n.getValue.createInterceptor(i).createSequence(r),n.beforeBlur=n.beforeBlur.createInterceptor(i).createSequence(r)}},Ext.preg("monthPickerPlugin",Ext.ux.MonthPickerPlugin);
/*!
 * Ext JS Library 3.4.0
 * Copyright(c) 2006-2011 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
Ext.ns("Ext.ux.form"),Ext.ux.form.FileUploadField=Ext.extend(Ext.form.TextField,{buttonText:"Browse...",buttonOnly:!1,buttonOffset:3,readOnly:!0,autoSize:Ext.emptyFn,initComponent:function(){Ext.ux.form.FileUploadField.superclass.initComponent.call(this),this.addEvents("fileselected")},onRender:function(n,t){Ext.ux.form.FileUploadField.superclass.onRender.call(this,n,t),this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-file-wrap"}),this.el.addClass("x-form-file-text"),this.el.dom.removeAttribute("name"),this.createFileInput();var i=Ext.applyIf(this.buttonCfg||{},{text:this.buttonText});this.button=new Ext.Button(Ext.apply(i,{renderTo:this.wrap,cls:"x-form-file-btn"+(i.iconCls?" x-btn-icon":"")})),this.buttonOnly&&(this.el.hide(),this.wrap.setWidth(this.button.getEl().getWidth())),this.bindListeners(),this.resizeEl=this.positionEl=this.wrap},bindListeners:function(){this.fileInput.on({scope:this,mouseenter:function(){this.button.addClass(["x-btn-over","x-btn-focus"])},mouseleave:function(){this.button.removeClass(["x-btn-over","x-btn-focus","x-btn-click"])},mousedown:function(){this.button.addClass("x-btn-click")},mouseup:function(){this.button.removeClass(["x-btn-over","x-btn-focus","x-btn-click"])},change:function(){var n=this.fileInput.dom.value;this.setValue(n),this.fireEvent("fileselected",this,n)}})},createFileInput:function(){this.fileInput=this.wrap.createChild({id:this.getFileInputId(),name:this.name||this.getId(),cls:"x-form-file",tag:"input",type:"file",size:1})},reset:function(){this.rendered&&(this.fileInput.remove(),this.createFileInput(),this.bindListeners()),Ext.ux.form.FileUploadField.superclass.reset.call(this)},getFileInputId:function(){return this.id+"-file"},onResize:function(n,t){if(Ext.ux.form.FileUploadField.superclass.onResize.call(this,n,t),this.wrap.setWidth(n),!this.buttonOnly){var n=this.wrap.getWidth()-this.button.getEl().getWidth()-this.buttonOffset;this.el.setWidth(n)}},onDestroy:function(){Ext.ux.form.FileUploadField.superclass.onDestroy.call(this),Ext.destroy(this.fileInput,this.button,this.wrap)},onDisable:function(){Ext.ux.form.FileUploadField.superclass.onDisable.call(this),this.doDisable(!0)},onEnable:function(){Ext.ux.form.FileUploadField.superclass.onEnable.call(this),this.doDisable(!1)},doDisable:function(n){this.fileInput.dom.disabled=n,this.button.setDisabled(n)},preFocus:Ext.emptyFn,alignErrorIcon:function(){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])}}),Ext.reg("fileuploadfield",Ext.ux.form.FileUploadField),Ext.form.FileUploadField=Ext.ux.form.FileUploadField,Ext.namespace("Ext.plugin.tree"),Ext.plugin.tree.TreeNodeChecked=Ext.extend(Object,{cascadeCheck:!0,cascadeParent:!0,cascadeChild:!0,linkedCheck:!1,asyncCheck:!1,displayAllCheckbox:!1,constructor:function(n){n=n||{},Ext.apply(this,n)},init:function(n){if(n.cascadeCheck===!1&&(this.cascadeCheck=this.cascadeParent=this.cascadeChild=this.linkedCheck=this.asyncCheck=!1),Ext.apply(n,{cascadeCheck:this.cascadeCheck,cascadeParent:this.cascadeParent,cascadeChild:this.cascadeChild,linkedCheck:this.linkedCheck,asyncCheck:this.asyncCheck,checkNode:this.checkNode,getLeafChecked:this.getLeafChecked}),this.cascadeCheck)n.on("checkchange",this.onCheckChange);if(this.cascadeCheck&&this.cascadeChild&&this.asyncCheck)n.on("expandnode",this.onExpandNode);if(this.displayAllCheckbox){var t=n.getLoader();t.baseAttrs=t.baseAttrs||{},t.baseAttrs.checked=!1}},onCheckChange:function(n,t){var i,u,r;this.cascadeCheck&&(n.disabled||(i=function(n){n.node.disabled||(n.checkbox.checked=t,n.checkbox.defaultChecked=t,n.node.attributes.checked=t)},this.cascadeParent&&(u=function(r){var e=r.getUI(),f;Ext.isDefined(e.checkbox)&&(t?i.call(this,e):(f=!1,Ext.each(r.childNodes,function(t){f||t.id===n.id||t.getUI().checkbox&&(f=t.getUI().checkbox.checked)},this),f||i.call(this,e)),Ext.isDefined(r.parentNode)&&u.call(this,r.parentNode))},u.call(this,n.parentNode)),this.cascadeChild&&(r=function(n){n.length!==0&&Ext.each(n,function(n){var t=n.getUI();Ext.isDefined(t.checkbox)?(i(t),r.call(this,n.childNodes)):this.linkedCheck&&r.call(this,n.childNodes)},this)},r.call(this,n.childNodes))))},onExpandNode:function(n){if(n.asyncChecked!==!0){n.asyncChecked=!0;var t=n.getUI();Ext.isDefined(t.checkbox)&&t.checkbox.checked&&Ext.each(n.childNodes,function(n){this.checkNode(n,!0)},this)}},checkNode:function(n,t){Ext.isArray(n)?Ext.each(n,function(n){Ext.isString(n)&&(n=this.getNodeById(n)),n.getUI().toggleCheck(t)},this):(Ext.isString(n)&&(n=this.getNodeById(n)),n.getUI().toggleCheck(t))},getLeafChecked:function(n,t){var r=[],u=this.getChecked(undefined,t),i;return(Ext.each(u,function(n){n.isLeaf()&&r.push(n)}),!Ext.isDefined(n))?r:(i="",Ext.each(r,function(t){i.length>0&&(i+=","),i+=n=="id"?t.id:t.attributes[n]}),i)}}),Ext.ux.form.TreeFilter=function(n,t){this.tree=n,Ext.apply(this,t||{}),this.pyCache={},this.matches=[],this.lastQuery="",this.cleared=!0},Ext.ux.form.TreeFilter.prototype={ignoreFolder:!0,clearAction:undefined,filter:function(n,t,i){var f,u,r,e;if(n==this.lastQuery,n=n.trim(),this.lastQuery=n,n.length==0){this.clear(i);return}for(i=i||this.tree.root,n=n.replace(/，/ig,","),f=n.split(","),u=[],r=0;r<f.length;r++)f[r].trim().length>0&&u.push(new RegExp("("+f[r]+")"));t||(t="text"),e=function(n){var i=!1,f;if(typeof t=="string")for(r=0;r<u.length;r++){if(i)break;i=u[r].test(n.attributes[t])}else if(t.length)for(f=0;f<t.length;f++)for(r=0;r<u.length;r++){if(i)break;i=i||u[r].test(n.attributes[t[f]])}return i},this.filterAll(e,i),this.showPaths(),this.cleared=!1},mutiFilter:function(n,t,i){var f,u,o,e,s,r,h;if(n&&n.length!=0)i=i||this.tree.root;else{this.clear(i);return}for(f=[],r=0;r<n.length;r++)if(_value=n[r],u=[],_value.trim().length!=0){for(_value=_value.replace(/，/ig,","),o=_value.split(","),e=0;e<o.length;e++)o[e].trim().length>0&&u.push(new RegExp("("+o[e]+")"));f.push(u)}else f.push("");for(s=[],r=0;r<t.length;r++)t[r]?s.push(t[r]):s.push("text");h=function(n){for(var t=!0,r,e,o,i=0;i<f.length;i++)if(u=f[i],u&&u!="")if(r=s[i],r||(r="text"),typeof u=="string")t=t&&u.test(n.attributes[r]);else{for(e=!1,o=0;o<u.length;o++)e=e||u[o].test(n.attributes[r]);t=t&&e}return t},this.filterAll(h,i),this.showPaths(),this.cleared=!1},filterAll:function(n,t){var i=[];t=t||this.tree.root,t.cascade(function(t){if(!t.leaf&&(t.expand(!1,!1),this.ignoreFolder)){t.ui.hide();return}n.call(this,t)?i.push(t):t.ui.hide()},this),this.matches=i},showPaths:function(){Ext.each(this.matches,function(n){n.bubble(function(n){n.ui.show()})})},hasMatch:function(){return!Ext.isEmpty(this.matches)},clear:function(n){this.cleared!==!0&&(n=n||this.tree.root,n.cascade(function(n){n.ui.show(),this.clearAction&&n[this.clearAction](!0,!0)}),this.cleared=!0)},isCleared:function(){return this.cleared},destroy:function(){Ext.destroyMembers(this,"pyCache","matches")}},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},"function"!=typeof RegExp.escape&&(RegExp.escape=function(n){return"string"!=typeof n?n:n.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}),Ext.grid.RadioboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:null,singleSelect:!0,width:20,sortable:!1,menuDisabled:!0,fixed:!0,dataIndex:"",id:"checker",initEvents:function(){Ext.grid.RadioboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){var n=this.grid.getView();n.mainBody.on("mousedown",this.onMouseDown,this)},this)},onMouseDown:function(n,t){var r,i;n.button===0&&t.className=="x-grid3-row-radio"&&(n.stopEvent(),r=n.getTarget(".x-grid3-row"),r&&(i=r.rowIndex,this.isSelected(i)?this.deselectRow(i):this.selectRow(i,!0)))},renderer:function(){return'<div class="x-grid3-row-radio">&#160;<\/div>'}});
/*!
 * Ext JS Library 3.4.0
 * Copyright(c) 2006-2011 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
/*!
 * Ext JS Library 3.4.0
 * Copyright(c) 2006-2010 Ext JS, Inc.
 * licensing@extjs.com
 * http://www.extjs.com/license
 */
Ext.ns("Ext.ux.grid"),Ext.ux.grid.LockingGridView=Ext.extend(Ext.grid.GridView,{lockText:"锁定",unlockText:"解锁",rowBorderWidth:1,lockedBorderWidth:1,syncHeights:!1,initTemplates:function(){var n=this.templates||{};n.masterTpl||(n.masterTpl=new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-locked">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset" style="{lstyle}">{lockedHeader}<\/div><\/div><div class="x-clear"><\/div><\/div>','<div class="x-grid3-scroller"><div class="x-grid3-body" style="{lstyle}">{lockedBody}<\/div><div class="x-grid3-scroll-spacer"><\/div><\/div>',"<\/div>",'<div class="x-grid3-viewport x-grid3-unlocked">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset" style="{ostyle}">{header}<\/div><\/div><div class="x-clear"><\/div><\/div>','<div class="x-grid3-scroller"><div class="x-grid3-body" style="{bstyle}">{body}<\/div><a href="#" class="x-grid3-focus" tabIndex="-1"><\/a><\/div>',"<\/div>",'<div class="x-grid3-resize-marker">&#160;<\/div>','<div class="x-grid3-resize-proxy">&#160;<\/div>',"<\/div>")),this.templates=n,Ext.ux.grid.LockingGridView.superclass.initTemplates.call(this)},getEditorParent:function(){return this.el.dom},initElements:function(){var n=Ext.get(this.grid.getGridEl().dom.firstChild),i=n.child("div.x-grid3-locked"),r=i.child("div.x-grid3-header"),e=i.child("div.x-grid3-scroller"),u=n.child("div.x-grid3-viewport"),f=u.child("div.x-grid3-header"),t=u.child("div.x-grid3-scroller");this.grid.hideHeaders&&(r.setDisplayed(!1),f.setDisplayed(!1)),this.forceFit&&t.setStyle("overflow-x","hidden"),Ext.apply(this,{el:n,mainWrap:u,mainHd:f,innerHd:f.dom.firstChild,scroller:t,mainBody:t.child("div.x-grid3-body"),focusEl:t.child("a"),resizeMarker:n.child("div.x-grid3-resize-marker"),resizeProxy:n.child("div.x-grid3-resize-proxy"),lockedWrap:i,lockedHd:r,lockedScroller:e,lockedBody:e.child("div.x-grid3-body"),lockedInnerHd:r.child("div.x-grid3-header-inner",!0)}),this.focusEl.swallowEvent("click",!0)},getLockedRows:function(){return this.hasRows()?this.lockedBody.dom.childNodes:[]},getLockedRow:function(n){return this.getLockedRows()[n]},getCell:function(n,t){var i=this.cm.getLockedCount();return t<i?this.getLockedRow(n).getElementsByTagName("td")[t]:Ext.ux.grid.LockingGridView.superclass.getCell.call(this,n,t-i)},getHeaderCell:function(n){var t=this.cm.getLockedCount();return n<t?this.lockedHd.dom.getElementsByTagName("td")[n]:Ext.ux.grid.LockingGridView.superclass.getHeaderCell.call(this,n-t)},addRowClass:function(n,t){var i=this.getLockedRow(n);i&&this.fly(i).addClass(t),Ext.ux.grid.LockingGridView.superclass.addRowClass.call(this,n,t)},removeRowClass:function(n,t){var i=this.getLockedRow(n);i&&this.fly(i).removeClass(t),Ext.ux.grid.LockingGridView.superclass.removeRowClass.call(this,n,t)},removeRow:function(n){Ext.removeNode(this.getLockedRow(n)),Ext.ux.grid.LockingGridView.superclass.removeRow.call(this,n)},removeRows:function(n,t){for(var r=this.lockedBody.dom,i=n;i<=t;i++)Ext.removeNode(r.childNodes[n]);Ext.ux.grid.LockingGridView.superclass.removeRows.call(this,n,t)},syncScroll:function(n){this.lockedScroller.dom.scrollTop=this.scroller.dom.scrollTop,Ext.ux.grid.LockingGridView.superclass.syncScroll.call(this,n)},updateSortIcon:function(n,t){var i=this.sortClasses,f=this.lockedHd.select("td").removeClass(i),e=this.mainHd.select("td").removeClass(i),r=this.cm.getLockedCount(),u=i[t=="DESC"?1:0];n<r?f.item(n).addClass(u):e.item(n-r).addClass(u)},updateAllColumnWidths:function(){var f=this.getTotalWidth(),s=this.cm.getColumnCount(),h=this.getLockedWidth(),e=this.cm.getLockedCount(),r=[],c,n,l,a,o,t,u,i;for(this.updateLockedWidth(),n=0;n<s;n++)r[n]=this.getColumnWidth(n),l=this.getHeaderCell(n),l.style.width=r[n];for(a=this.getLockedRows(),o=this.getRows(),n=0,c=o.length;n<c;n++){if(t=a[n],t.style.width=h,t.firstChild)for(t.firstChild.style.width=h,u=t.firstChild.rows[0],i=0;i<e;i++)u.childNodes[i].style.width=r[i];if(t=o[n],t.style.width=f,t.firstChild)for(t.firstChild.style.width=f,u=t.firstChild.rows[0],i=e;i<s;i++)u.childNodes[i-e].style.width=r[i]}this.onAllColumnWidthsUpdated(r,f);this.syncHeaderHeight()},updateColumnWidth:function(n){var f=this.getColumnWidth(n),o=this.cm.getLockedCount(),i,r,e,t,s,u,h;for(this.updateLockedWidth(),n<o?(i=this.getLockedRows(),r=this.getLockedWidth(),e=n):(i=this.getRows(),r=this.getTotalWidth(),e=n-o),s=this.getHeaderCell(n),s.style.width=f,u=0,h=i.length;u<h;u++)t=i[u],t.style.width=r,t.firstChild&&(t.firstChild.style.width=r,t.firstChild.rows[0].childNodes[e].style.width=f);this.onColumnWidthUpdated(n,f,this.getTotalWidth());this.syncHeaderHeight()},updateColumnHidden:function(n,t){var o=this.cm.getLockedCount(),r,u,e,i,s=t?"none":"",h,f,c;for(this.updateLockedWidth(),n<o?(r=this.getLockedRows(),u=this.getLockedWidth(),e=n):(r=this.getRows(),u=this.getTotalWidth(),e=n-o),h=this.getHeaderCell(n),h.style.display=s,f=0,c=r.length;f<c;f++)i=r[f],i.style.width=u,i.firstChild&&(i.firstChild.style.width=u,i.firstChild.rows[0].childNodes[e].style.display=s);this.onColumnHiddenUpdated(n,t,this.getTotalWidth());delete this.lastViewWidth,this.layout()},doRender:function(n,t,i,r,u,f){for(var k=this.templates,d=k.cell,g=k.row,tt=u-1,it="width:"+this.getTotalWidth()+";",rt="width:"+this.getLockedWidth()+";",w=[],b=[],v,y,h,e={},o={},c,p,s,a,l=0,nt=t.length;l<nt;l++){for(c=t[l],v=[],y=[],p=l+r,s=0;s<u;s++)h=n[s],e.id=h.id,e.css=(s===0?"x-grid3-cell-first ":s==tt?"x-grid3-cell-last ":"")+(this.cm.config[s].cellCls?" "+this.cm.config[s].cellCls:""),e.attr=e.cellAttr="",e.value=h.renderer(c.data[h.name],e,c,p,s,i),e.style=h.style,Ext.isEmpty(e.value)&&(e.value="&#160;"),this.markDirty&&c.dirty&&Ext.isDefined(c.modified[h.name])&&(e.css+=" x-grid3-dirty-cell"),h.locked?y[y.length]=d.apply(e):v[v.length]=d.apply(e);a=[],f&&(p+1)%2==0&&(a[0]="x-grid3-row-alt"),c.dirty&&(a[1]=" x-grid3-dirty-row"),o.cols=u,this.getRowClass&&(a[2]=this.getRowClass(c,p,o,i)),o.alt=a.join(" "),o.cells=v.join(""),o.tstyle=it,w[w.length]=g.apply(o),o.cells=y.join(""),o.tstyle=rt,b[b.length]=g.apply(o)}return[w.join(""),b.join("")]},processRows:function(n,t){var r,e,u,f,i,o;if(this.ds&&!(this.ds.getCount()<1)){for(r=this.getRows(),e=this.getLockedRows(),t=t||!this.grid.stripeRows,n=n||0,i=0,o=r.length;i<o;++i)u=r[i],f=e[i],u.rowIndex=i,f.rowIndex=i,t||(u.className=u.className.replace(this.rowClsRe," "),f.className=f.className.replace(this.rowClsRe," "),(i+1)%2==0&&(u.className+=" x-grid3-row-alt",f.className+=" x-grid3-row-alt")),this.syncRowHeights(u,f);n===0&&(Ext.fly(r[0]).addClass(this.firstRowCls),Ext.fly(e[0]).addClass(this.firstRowCls)),Ext.fly(r[r.length-1]).addClass(this.lastRowCls),Ext.fly(e[e.length-1]).addClass(this.lastRowCls)}},syncRowHeights:function(n,t){if(this.syncHeights){var u=Ext.get(n),f=Ext.get(t),i=u.getHeight(),r=f.getHeight();i>r?f.setHeight(i):r>i&&u.setHeight(r)}},afterRender:function(){if(this.ds&&this.cm){var n=this.renderRows()||["&#160;","&#160;"];this.mainBody.dom.innerHTML=n[0],this.lockedBody.dom.innerHTML=n[1],this.processRows(0,!0),this.deferEmptyText!==!0&&this.applyEmptyText(),this.grid.fireEvent("viewready",this.grid)}},renderUI:function(){var n=this.templates,t=this.renderHeaders(),i=n.body.apply({rows:"&#160;"});return n.masterTpl.apply({body:i,header:t[0],ostyle:"width:"+this.getOffsetWidth()+";",bstyle:"width:"+this.getTotalWidth()+";",lockedBody:i,lockedHeader:t[1],lstyle:"width:"+this.getLockedWidth()+";"})},afterRenderUI:function(){var n=this.grid;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);Ext.fly(this.lockedInnerHd).on("click",this.handleHdDown,this);this.mainHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove});this.lockedHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove});this.scroller.on("scroll",this.syncScroll,this);if(n.enableColumnResize!==!1&&(this.splitZone=new Ext.grid.GridView.SplitDragZone(n,this.mainHd.dom),this.splitZone.setOuterHandleElId(Ext.id(this.lockedHd.dom)),this.splitZone.setOuterHandleElId(Ext.id(this.mainHd.dom))),n.enableColumnMove&&(this.columnDrag=new Ext.grid.GridView.ColumnDragZone(n,this.innerHd),this.columnDrag.setOuterHandleElId(Ext.id(this.lockedInnerHd)),this.columnDrag.setOuterHandleElId(Ext.id(this.innerHd)),this.columnDrop=new Ext.grid.HeaderDropZone(n,this.mainHd.dom)),n.enableHdMenu!==!1){if(this.hmenu=new Ext.menu.Menu({id:n.id+"-hctx"}),this.hmenu.add({itemId:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{itemId:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"}),this.grid.enableColLock!==!1&&this.hmenu.add("-",{itemId:"lock",text:this.lockText,cls:"xg-hmenu-lock"},{itemId:"unlock",text:this.unlockText,cls:"xg-hmenu-unlock"}),n.enableColumnHide!==!1){this.colMenu=new Ext.menu.Menu({id:n.id+"-hcols-menu"});this.colMenu.on({scope:this,beforeshow:this.beforeColMenuShow,itemclick:this.handleHdMenuClick});this.hmenu.add("-",{itemId:"columns",hideOnClick:!1,text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"})}this.hmenu.on("itemclick",this.handleHdMenuClick,this)}if(n.trackMouseOver){this.mainBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut});this.lockedBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut})}(n.enableDragDrop||n.enableDrag)&&(this.dragZone=new Ext.grid.GridDragZone(n,{ddGroup:n.ddGroup||"GridDD"})),this.updateHeaderSortState()},layout:function(){var r,u;if(this.mainBody){var i=this.grid,f=i.getGridEl(),n=f.getSize(!0),t=n.width;if(i.hideHeaders||!(t<20||n.height<20)){this.syncHeaderHeight(),i.autoHeight?(this.scroller.dom.style.overflow="visible",this.lockedScroller.dom.style.overflow="visible",Ext.isWebKit&&(this.scroller.dom.style.position="static",this.lockedScroller.dom.style.position="static")):(this.el.setSize(n.width,n.height),r=this.mainHd.getHeight(),u=n.height-r),this.updateLockedWidth(),this.forceFit?this.lastViewWidth!=t&&(this.fitColumns(!1,!1),this.lastViewWidth=t):(this.autoExpand(),this.syncHeaderScroll());this.onLayout(t,u)}}},getOffsetWidth:function(){return this.cm.getTotalWidth()-this.cm.getTotalLockedWidth()+this.getScrollOffset()+"px"},renderHeaders:function(){for(var i=this.cm,r=this.templates,e=r.hcell,u=[],f=[],t={},o=i.getColumnCount(),s=o-1,n=0;n<o;n++)t.id=i.getColumnId(n),t.value=i.getColumnHeader(n)||"",t.style=this.getColumnStyle(n,!0),t.tooltip=this.getColumnTooltip(n),t.css=(n===0?"x-grid3-cell-first ":n==s?"x-grid3-cell-last ":"")+(i.config[n].headerCls?" "+i.config[n].headerCls:""),i.config[n].align=="right"?t.istyle="padding-right:16px":delete t.istyle,i.isLocked(n)?f[f.length]=e.apply(t):u[u.length]=e.apply(t);return[r.header.apply({cells:u.join(""),tstyle:"width:"+this.getTotalWidth()+";"}),r.header.apply({cells:f.join(""),tstyle:"width:"+this.getLockedWidth()+";"})]},updateHeaders:function(){var t=this.renderHeaders(),n;this.innerHd.firstChild.innerHTML=t[0],this.innerHd.firstChild.style.width=this.getOffsetWidth(),this.innerHd.firstChild.firstChild.style.width=this.getTotalWidth(),this.lockedInnerHd.firstChild.innerHTML=t[1],n=this.getLockedWidth(),this.lockedInnerHd.firstChild.style.width=n,this.lockedInnerHd.firstChild.firstChild.style.width=n},getResolvedXY:function(n){if(!n)return null;var t=n.cell,i=n.row;return t?Ext.fly(t).getXY():[this.scroller.getX(),Ext.fly(i).getY()]},syncFocusEl:function(n,t,i){Ext.ux.grid.LockingGridView.superclass.syncFocusEl.call(this,n,t,t<this.cm.getLockedCount()?!1:i)},ensureVisible:function(n,t,i){return Ext.ux.grid.LockingGridView.superclass.ensureVisible.call(this,n,t,t<this.cm.getLockedCount()?!1:i)},insertRows:function(n,t,i,r){var e=n.getCount()-1,u,f;!r&&t===0&&i>=e?this.refresh():(r||this.fireEvent("beforerowsinserted",this,t,i),u=this.renderRows(t,i),f=this.getRow(t),f?(t===0&&this.removeRowClass(0,this.firstRowCls),Ext.DomHelper.insertHtml("beforeBegin",f,u[0]),f=this.getLockedRow(t),Ext.DomHelper.insertHtml("beforeBegin",f,u[1])):(this.removeRowClass(e-1,this.lastRowCls),Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,u[0]),Ext.DomHelper.insertHtml("beforeEnd",this.lockedBody.dom,u[1])),r?(t===0||t>=e)&&this.addRowClass(t,t===0?this.firstRowCls:this.lastRowCls):(this.fireEvent("rowsinserted",this,t,i),this.processRows(t))),this.syncFocusEl(t)},getColumnStyle:function(n,t){var i=t?this.cm.config[n].headerStyle||"":this.cm.config[n].cellStyle||this.cm.config[n].css||"",r;return i+="width:"+this.getColumnWidth(n)+";",this.cm.isHidden(n)&&(i+="display:none;"),r=this.cm.config[n].align,r&&(i+="text-align:"+r+";"),i},getLockedWidth:function(){return this.cm.getTotalLockedWidth()+"px"},getTotalWidth:function(){return this.cm.getTotalWidth()-this.cm.getTotalLockedWidth()+"px"},getColumnData:function(){for(var r=[],t=this.cm,u=t.getColumnCount(),i,n=0;n<u;n++)i=t.getDataIndex(n),r[n]={name:Ext.isDefined(i)?i:this.ds.fields.get(n).name,renderer:t.getRenderer(n),scope:t.getRendererScope(n),id:t.getColumnId(n),style:this.getColumnStyle(n),locked:t.isLocked(n)};return r},renderBody:function(){var n=this.renderRows()||["&#160;","&#160;"];return[this.templates.body.apply({rows:n[0]}),this.templates.body.apply({rows:n[1]})]},refreshRow:function(n){var s=this.ds,c=this.cm.getColumnCount(),w=this.getColumnData(),b=c-1,h=["x-grid3-row"],e={tstyle:String.format("width: {0};",this.getTotalWidth())},l={tstyle:String.format("width: {0};",this.getLockedWidth())},a=[],v=[],y=this.templates.cell,t,o,f,r,u,p,i;if(Ext.isNumber(n)?(t=n,n=s.getAt(t)):t=s.indexOf(n),n&&!(t<0)){for(i=0;i<c;i++)r=w[i],p=i==0?"x-grid3-cell-first":i==b?"x-grid3-cell-last ":"",u={id:r.id,style:r.style,css:p,attr:"",cellAttr:""},u.value=r.renderer.call(r.scope,n.data[r.name],u,n,t,i,s),Ext.isEmpty(u.value)&&(u.value=" "),this.markDirty&&n.dirty&&typeof n.modified[r.name]!="undefined"&&(u.css+=" x-grid3-dirty-cell"),r.locked?v[i]=y.apply(u):a[i]=y.apply(u);o=this.getRow(t),o.className="",f=this.getLockedRow(t),f.className="",this.grid.stripeRows&&(t+1)%2==0&&h.push("x-grid3-row-alt"),this.getRowClass&&(e.cols=c,h.push(this.getRowClass(n,t,e,s))),this.fly(o).addClass(h).setStyle(e.tstyle),e.cells=a.join(""),o.innerHTML=this.templates.rowInner.apply(e),this.fly(f).addClass(h).setStyle(l.tstyle),l.cells=v.join(""),f.innerHTML=this.templates.rowInner.apply(l),f.rowIndex=t,this.syncRowHeights(o,f),this.fireEvent("rowupdated",this,t,n)}},refresh:function(n){this.fireEvent("beforerefresh",this),this.grid.stopEditing(!0);var t=this.renderBody();this.mainBody.update(t[0]).setWidth(this.getTotalWidth()),this.lockedBody.update(t[1]).setWidth(this.getLockedWidth()),n===!0&&(this.updateHeaders(),this.updateHeaderSortState()),this.processRows(0,!0),this.layout(),this.applyEmptyText(),this.fireEvent("refresh",this)},onDenyColumnLock:function(){},initData:function(n,t){if(this.cm&&this.cm.un("columnlockchange",this.onColumnLock,this),Ext.ux.grid.LockingGridView.superclass.initData.call(this,n,t),this.cm)this.cm.on("columnlockchange",this.onColumnLock,this)},onColumnLock:function(){this.refresh(!0)},handleHdMenuClick:function(n){var r=this.hdCtxIndex,t=this.cm,u=n.getItemId(),i=t.getLockedCount();switch(u){case"lock":if(t.getColumnCount(!0)<=i+1)return this.onDenyColumnLock(),undefined;i==0&&(t.setLocked(0,!0,!0),t.moveColumn(0,0),this.grid.fireEvent("columnmove",0,0),t.setLocked(1,!0,!0),t.moveColumn(1,1),this.grid.fireEvent("columnmove",1,1),i=2),t.setLocked(r,!0,i!=r),i!=r&&(t.moveColumn(r,i),this.grid.fireEvent("columnmove",r,i));break;case"unlock":i-1!=r?(t.setLocked(r,!1,!0),t.moveColumn(r,i-1),this.grid.fireEvent("columnmove",r,i-1)):t.setLocked(r,!1),i==3&&(t.setLocked(0,!1),t.setLocked(1,!1));break;default:return Ext.ux.grid.LockingGridView.superclass.handleHdMenuClick.call(this,n)}return!0},handleHdDown:function(n,t){if(Ext.ux.grid.LockingGridView.superclass.handleHdDown.call(this,n,t),this.grid.enableColLock!==!1&&Ext.fly(t).hasClass("x-grid3-hd-btn")){var f=this.findHeaderCell(t),i=this.getCellIndex(f),r=this.hmenu.items,u=this.cm;r.get("lock").setDisabled(u.isLocked(i)),r.get("unlock").setDisabled(!u.isLocked(i))}},syncHeaderHeight:function(){var n=Ext.fly(this.innerHd).child("tr",!0),t=Ext.fly(this.lockedInnerHd).child("tr",!0);n.style.height="auto",t.style.height="auto";var r=n.offsetHeight,u=t.offsetHeight,i=Math.max(u,r)+"px";n.style.height=i,t.style.height=i},updateLockedWidth:function(){var n=this.cm.getTotalLockedWidth(),i=this.cm.getTotalWidth()-n,u=this.grid.getGridEl().getSize(!0),f=Ext.isBorderBox?0:this.lockedBorderWidth,t=Ext.isBorderBox?0:this.rowBorderWidth,e=Math.max(u.width-n-f-t,0)+"px",o=this.getScrollOffset(),r;this.grid.autoHeight||(r=Math.max(u.height-this.mainHd.getHeight(),0)+"px",this.lockedScroller.dom.style.height=r,this.scroller.dom.style.height=r),this.lockedWrap.dom.style.width=n+t+"px",this.scroller.dom.style.width=e,this.mainWrap.dom.style.left=n+f+t+"px",this.innerHd&&(this.lockedInnerHd.firstChild.style.width=n+"px",this.lockedInnerHd.firstChild.firstChild.style.width=n+"px",this.innerHd.style.width=e,this.innerHd.firstChild.style.width=i+t+o+"px",this.innerHd.firstChild.firstChild.style.width=i+"px"),this.mainBody&&(this.lockedBody.dom.style.width=n+t+"px",this.mainBody.dom.style.width=i+t+"px")}}),Ext.ux.grid.LockingColumnModel=Ext.extend(Ext.grid.ColumnModel,{isLocked:function(n){return this.config[n].locked===!0},setLocked:function(n,t,i){this.isLocked(n)!=t&&(this.config[n].locked=t,i||this.fireEvent("columnlockchange",this,n,t))},getTotalLockedWidth:function(){for(var t=0,n=0,i=this.config.length;n<i;n++)this.isLocked(n)&&!this.isHidden(n)&&(t+=this.getColumnWidth(n));return t},getLockedCount:function(){for(var t=this.config.length,n=0;n<t;n++)if(!this.isLocked(n))return n;return t},moveColumn:function(n,t){var i=this.isLocked(n),r=this.isLocked(t);n<t&&i&&!r?this.setLocked(n,!1,!0):n>t&&!i&&r&&this.setLocked(n,!0,!0),Ext.ux.grid.LockingColumnModel.superclass.moveColumn.apply(this,arguments)}})